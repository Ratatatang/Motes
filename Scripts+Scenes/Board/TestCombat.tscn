[gd_scene load_steps=18 format=3 uid="uid://dvbw4dpifwfuv"]

[ext_resource type="Script" path="res://Scripts+Scenes/Board/TestCombat.gd" id="1_b22n8"]
[ext_resource type="Texture2D" uid="uid://32h8uf6o7v5w" path="res://Assets/Board/tile.png" id="2_firdh"]
[ext_resource type="Texture2D" uid="uid://c6vjnapx2ol82" path="res://Assets/Board/wall.png" id="3_hsjks"]
[ext_resource type="Texture2D" uid="uid://vh6excj7dr8j" path="res://Assets/Board/Objects/chair.png" id="4_ltidq"]
[ext_resource type="FontFile" uid="uid://clr3ktnie2g4u" path="res://Assets/Fonts/pixelFont.ttf" id="4_nd71r"]
[ext_resource type="Script" path="res://Scripts+Scenes/Board/UI/UI.gd" id="5_67yxq"]
[ext_resource type="Texture2D" uid="uid://4rd7tn4yi1a5" path="res://Assets/Cards/CardBack.png" id="5_q8c5x"]
[ext_resource type="FontFile" uid="uid://b8u7jxcjx70ak" path="res://Assets/Fonts/PixelFont.tres" id="8_gdklo"]
[ext_resource type="Texture2D" uid="uid://dep2n78amfqd2" path="res://Assets/UI/endturn_button.png" id="9_k225c"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jqsql"]
texture = ExtResource("2_firdh")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_12pqk"]
texture = ExtResource("3_hsjks")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
0:0/0/custom_data_0 = true
0:0/0/custom_data_1 = true
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/custom_data_0 = true
1:0/0/custom_data_1 = true

[sub_resource type="TileSet" id="TileSet_4g06v"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
custom_data_layer_0/name = "impassable"
custom_data_layer_0/type = 1
custom_data_layer_1/name = "opaque"
custom_data_layer_1/type = 1
sources/5 = SubResource("TileSetAtlasSource_jqsql")
sources/6 = SubResource("TileSetAtlasSource_12pqk")

[sub_resource type="RectangleShape2D" id="1"]
size = Vector2(579, 36)

[sub_resource type="RectangleShape2D" id="2"]
size = Vector2(69, 298.5)

[sub_resource type="RectangleShape2D" id="3"]
size = Vector2(112, 293)

[sub_resource type="RectangleShape2D" id="4"]
size = Vector2(548, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hqxpg"]
size = Vector2(1153, 27)

[node name="GameBoard" type="Node2D"]
script = ExtResource("1_b22n8")

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_4g06v")
cell_quadrant_size = 64
format = 2
layer_0/tile_data = PackedInt32Array(0, 5, 0, 1, 5, 0, 2, 5, 0, 3, 5, 0, 15, 5, 0, 14, 5, 0, 13, 5, 0, 12, 5, 0, 11, 5, 0, 10, 5, 0, 9, 5, 0, 8, 5, 0, 7, 5, 0, 6, 5, 0, 5, 5, 0, 4, 5, 0, 65540, 6, 0, 524288, 5, 0, 458752, 5, 0, 393216, 5, 0, 327680, 5, 0, 262144, 5, 0, 196608, 5, 0, 131072, 5, 0, 65536, 5, 0, 524289, 5, 0, 524303, 5, 0, 65551, 5, 0, 131087, 5, 0, 196623, 5, 0, 262159, 5, 0, 327695, 5, 0, 393231, 5, 0, 458767, 5, 0, 524302, 5, 0, 524301, 5, 0, 524300, 5, 0, 524299, 5, 0, 524298, 5, 0, 524297, 5, 0, 524296, 5, 0, 524295, 5, 0, 524294, 5, 0, 524293, 5, 0, 524292, 5, 0, 524291, 5, 0, 524290, 5, 0, 458754, 6, 0, 458753, 6, 0, 393217, 6, 0, 327682, 5, 0, 327683, 5, 0, 327684, 6, 0, 327685, 5, 0, 327686, 5, 0, 327687, 5, 0, 393223, 5, 0, 458758, 6, 0, 458757, 6, 0, 458756, 6, 0, 393220, 5, 0, 393219, 5, 0, 393221, 5, 0, 458755, 6, 0, 393218, 5, 0, 393222, 5, 0, 393224, 6, 0, 458759, 6, 0, 458760, 6, 0, 458761, 5, 0, 458762, 5, 0, 458763, 5, 0, 393227, 6, 0, 393228, 6, 0, 393229, 6, 0, 458765, 5, 0, 458766, 5, 0, 393230, 6, 0, 458764, 5, 0, 327693, 5, 0, 327694, 6, 0, 262158, 6, 0, 196622, 6, 0, 131086, 6, 0, 65550, 6, 0, 65549, 6, 0, 65548, 6, 0, 65547, 6, 0, 65546, 6, 0, 131082, 5, 0, 131081, 5, 0, 131080, 6, 0, 131079, 5, 0, 131078, 5, 0, 65542, 6, 0, 65541, 6, 0, 65543, 6, 0, 65544, 6, 0, 65545, 6, 0, 196618, 5, 0, 262154, 5, 0, 327689, 5, 0, 327688, 6, 0, 262152, 5, 0, 262153, 5, 0, 196617, 5, 0, 327690, 5, 0, 393225, 6, 0, 393226, 6, 0, 327691, 5, 0, 262156, 5, 0, 196621, 5, 0, 327692, 5, 0, 262157, 5, 0, 131085, 5, 0, 131084, 5, 0, 131083, 5, 0, 196619, 5, 0, 262155, 5, 0, 196620, 5, 0, 262151, 5, 0, 262150, 5, 0, 262149, 5, 0, 262148, 6, 0, 262147, 5, 0, 196610, 5, 0, 262146, 5, 0, 262145, 5, 0, 327681, 6, 0, 196609, 6, 0, 131073, 6, 0, 65537, 6, 0, 65538, 6, 0, 65539, 6, 0, 131075, 5, 0, 131074, 5, 0, 131076, 6, 0, 131077, 5, 0, 196613, 6, 0, 196612, 6, 0, 196611, 5, 0, 196615, 5, 0, 196616, 6, 0, 196614, 6, 0)

[node name="GamePieces" type="Node2D" parent="TileMap"]

[node name="Sprite2D" type="Sprite2D" parent="TileMap/GamePieces"]
position = Vector2(352, 160)
texture = ExtResource("4_ltidq")
hframes = 4

[node name="WarFog" type="TileMap" parent="TileMap"]
visible = false
tile_set = SubResource("TileSet_4g06v")
cell_quadrant_size = 64
format = 2
layer_0/tile_data = PackedInt32Array(0, 5, 0, 3, 5, 0, 9, 5, 0, 8, 5, 0, 7, 5, 0, 6, 5, 0, 5, 5, 0, 4, 5, 0, 393216, 5, 0, 327680, 5, 0, 262144, 5, 0)

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D2" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(517, -36)
shape = SubResource("1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-72, 285.5)
shape = SubResource("2")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1136, 283)
shape = SubResource("3")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(524, 640)
shape = SubResource("4")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(504, 280)

[node name="Marker2D" type="Marker2D" parent="Camera2D"]
position = Vector2(-20, -179)

[node name="MovementCostMarker" type="Marker2D" parent="."]
visible = false

[node name="MoementCost" type="RichTextLabel" parent="MovementCostMarker"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(1.5, 1.5)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(1, 1, 1, 1)
theme_override_constants/outline_size = 0
theme_override_fonts/normal_font = ExtResource("4_nd71r")
theme_override_font_sizes/normal_font_size = 12
text = "COST: "
autowrap_mode = 0

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_top = 525.0
offset_right = 1024.0
offset_bottom = 773.0
script = ExtResource("5_67yxq")

[node name="CardBack" type="Sprite2D" parent="UI"]
position = Vector2(88, 128)
scale = Vector2(1.2, 1.2)
texture = ExtResource("5_q8c5x")

[node name="CardsLeft" type="RichTextLabel" parent="UI/CardBack"]
offset_left = -39.0
offset_top = -61.0
offset_right = 59.0
offset_bottom = -29.0
theme_override_fonts/normal_font = ExtResource("8_gdklo")
theme_override_font_sizes/normal_font_size = 12
text = "Cards Left:  6"

[node name="Buttons" type="Control" parent="UI"]
anchors_preset = 0
offset_top = -16.0
offset_right = 40.0
offset_bottom = 24.0

[node name="EndTurn" type="TextureButton" parent="UI/Buttons"]
visible = false
layout_mode = 0
anchor_right = 1.271
anchor_bottom = 1.213
offset_left = 944.0
offset_top = 144.0
offset_right = 957.16
offset_bottom = 159.48
texture_normal = ExtResource("9_k225c")

[node name="APLabel" type="RichTextLabel" parent="UI/Buttons"]
layout_mode = 0
offset_left = 968.0
offset_top = 149.0
offset_right = 1024.0
offset_bottom = 189.0
text = "30/30"

[node name="DrawButton" type="Button" parent="UI/Buttons"]
layout_mode = 0
offset_left = 964.0
offset_top = 118.0
offset_right = 1014.0
offset_bottom = 149.0
text = "Draw"

[node name="Hand" type="HBoxContainer" parent="UI"]
layout_mode = 0
offset_left = 140.0
offset_top = 80.0
offset_right = 947.0
offset_bottom = 208.0
alignment = 1

[node name="RaiseArea" type="Area2D" parent="UI"]
monitoring = false
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI/RaiseArea"]
position = Vector2(504.5, 65.5)
shape = SubResource("RectangleShape2D_hqxpg")

[connection signal="pressed" from="UI/Buttons/EndTurn" to="UI" method="_on_EndTurn_pressed"]
[connection signal="pressed" from="UI/Buttons/DrawButton" to="UI" method="_on_DrawButton_pressed"]
[connection signal="mouse_entered" from="UI/RaiseArea" to="UI" method="_on_area_2d_mouse_entered"]
[connection signal="mouse_exited" from="UI/RaiseArea" to="UI" method="_on_area_2d_mouse_exited"]
